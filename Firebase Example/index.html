<!doctype html>
<html lang="en">

<head>
    <title>Firebase Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://cdn.firebase.com/libs/firebaseui/2.7.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.7.0/firebaseui.css" />
    <link rel="manifest" href="./manifest.json">
</head>
<h1>Welcome to My Awesome App</h1>
<div id="firebaseui-auth-container"></div>

<body>
    <script src="public/js/noti.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCSY0T6w0EQtiWPpRsjYc0AnAleqvni-d8",
            authDomain: "laohanme.firebaseapp.com",
            databaseURL: "https://laohanme.firebaseio.com",
            projectId: "laohanme",
            storageBucket: "laohanme.appspot.com",
            messagingSenderId: "512728359569"
        };
        firebase.initializeApp(config);
        var actionCodeSettings = {
            // URL you want to redirect back to. The domain (www.example.com) for this
            // URL must be whitelisted in the Firebase Console.
            url: 'http://localhost:1111',
            // This must be true.
            handleCodeInApp: true,
            iOS: {
                bundleId: 'com.example.ios'
            },
            android: {
                packageName: 'com.example.android',
                installApp: true,
                minimumVersion: '12'
            }
        };

        // let email = 'jimocheng97@hotmail.com';

        // firebase.auth().sendSignInLinkToEmail(email, actionCodeSettings)
        //     .then(function() {
        //         // The link was successfully sent. Inform the user.
        //         // Save the email locally so you don't need to ask the user for it again
        //         // if they open the link on the same device.
        //         window.localStorage.setItem('emailForSignIn', email);
        //     })
        //     .catch(function(error) {
        //         // Some error occurred, you can inspect the code: error.code
        //     });
    </script>
    <script type="text/javascript">
        // FirebaseUI config.
        var uiConfig = {
            signInSuccessUrl: 'http://localhost:1111',
            signInOptions: [{
                    // Leave the lines as is for the providers you want to offer your users.
                    // Google provider must be enabled in Firebase Console to support one-tap
                    // sign-up.
                    provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                    // Required to enable this provider in one-tap sign-up.
                    authMethod: 'https://accounts.google.com',
                    // Required to enable ID token credentials for this provider.
                    // This can be obtained from the Credentials page of the Google APIs
                    // console.
                    clientId: 'xxxxxxxxxxxxxxxxx.apps.googleusercontent.com'
                },
                firebase.auth.FacebookAuthProvider.PROVIDER_ID,
                firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                firebase.auth.GithubAuthProvider.PROVIDER_ID,
                firebase.auth.EmailAuthProvider.PROVIDER_ID,
            ],
            // Required to enable one-tap sign-up credential helper.
            credentialHelper: firebaseui.auth.CredentialHelper.GOOGLE_YOLO,
            // Terms of service url.
            tosUrl: '<your-tos-url>'
        };

        // Initialize the FirebaseUI Widget using Firebase.
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.
        ui.start('#firebaseui-auth-container', uiConfig);
        // Auto sign-in for returning users is enabled by default except when prompt is
        // not 'none' in the Google provider custom parameters. To manually disable:
        ui.disableAutoSignIn();
    </script>

</body>

</html>